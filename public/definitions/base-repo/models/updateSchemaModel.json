{
    "type": "object",
    "headerTemplate": "Schema {{#if self.id}} #{{ self.id }} {{else}} (New) {{/if}}",
    "options": {
        "disable_collapse": true,
        "titleHidden": true,
        "disable_properties": false
    },
    "properties": {
        "id": {
            "type": "string",
            "propertyOrder": 1,
            "title": "Unique Identifier",
            "options":{
                "infoText": "The internal identifier of the schema.",
                "readOnly": true
            }
        },
        "publisher": {
            "type": "string",
            "propertyOrder": 2,
            "title": "Publisher",
            "options":{
                "infoText": "The publisher of the schema."
            }
        },
        "publicationYear": {
            "type": "string",
            "propertyOrder": 3,
            "title": "Publication Year",
            "options": {
                "inputAttributes": {
                    "placeholder": "YYYY"
                },
                "cleave": {
                    "date": true,
                    "datePattern": ["Y"]
                },
                "infoText": "The year when the schema has been published."
            }
        },
        "embargoDate": {
            "type": "string",
            "title": "Under Embargo Until",
            "propertyOrder": 4,
            "pattern": "\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z)",
            "options":{
                "infoText": "The date until which the schema or its contents are under embargo."
            }
        },
        "language": {
            "title": "Language",
            "propertyOrder": 5,
            "$ref": "/definitions/base-repo/models/language.json",
            "options":{
                "infoText": "The language of the schema."
            }
        },
        "lastUpdate": {
            "type": "string",
            "propertyOrder": 6,
            "title": "Last Update",
            "options":{
                "infoText": "The date of the last update to the schema."
            }
        },
        "state": {
            "type": "string",
            "propertyOrder": 7,
            "title": "Resource State",
            "enum": ["VOLATILE", "FIXED", "REVOKED", "GONE"],
            "options":{
                "infoText": "The state of the schema."
            }
        },

        "titles": {
            "type": "array",
            "title": "Titles",
            "description": "One or more titles of the schema.",
            "minItems": 1,
            "propertyOrder": 1,
            "items": {
                "headerTemplate": " {{#if self.titleType}}<i>{{self.titleType}}</i>{{else}}<i>Other</i>{{/if}}",
                "$ref": "/definitions/base-repo/models/title.json",
                "watch": {
                    "titleType": "self.titleType"
                }
            },
            "options": {
                "collapsed": true
            }
        },
        "descriptions": {
            "type": "array",
            "title": "Descriptions",
            "description": "One or more descriptions of the schema.",
            "format": "grid-strict",
            "propertyOrder": 2,
            "items": {
                "headerTemplate": " {{#if self.type}}<i>{{self.type}}</i>{{else}}<i>None</i>{{/if}}",
                "$ref": "/definitions/base-repo/models/description.json",
                "watch": {
                    "titleType": "self.type"
                }
            },
            "options": {
                "collapsed": true
            }
        },
        "resourceType": {
            "description": "Type information for the schema.",
            "$ref": "/definitions/base-repo/models/resource_type.json",
            "options": {
                "collapsed": true,
                "readOnly": true
            }
        },
        "acls": {
            "type": "array",
            "title": "Access Control Information",
            "description": "Access control information for the schema.",
            "required": false,
            "items": {
                "headerTemplate": " {{#if self.sid}}<i>{{self.sid}}</i>{{else}}<i>None</i>{{/if}}",
                "$ref": "/definitions/base-repo/models/acl_entry.json",
                "watch": {
                    "titleType": "self.sid"
                }
            },
            "options": {
                "collapsed": true,
                "hidden": true,
                "readOnly": true
            }
        },
        "alternateIdentifiers": {
            "type": "array",
            "title": "Alternate Identifiers",
            "description": "One or more alternate identifiers of the schema.",
            "items": {
                "headerTemplate": " {{#if self.identifierType}}<i>{{self.identifierType}}</i>{{else}}<i>None</i>{{/if}}",
                "$ref": "/definitions/base-repo/models/alternate_identifier.json",
                "watch": {
                    "titleType": "self.identifierType"
                }
            },
            "options": {
                "collapsed": true
            }
        },
        "contributors": {
            "type": "array",
            "title":"Contributors",
            "description": "One or more contributors to the schema.",
            "items": {
                "headerTemplate": "{{ self.contributionType }} ( {{ self.user.familyName }},  {{ self.user.givenName }})",
                "$ref": "/definitions/base-repo/models/contributor.json"
            },
            "options": {
                "collapsed": true
            }
        },
        "creators": {
            "type": "array",
            "title":"Creators",
            "description": "One or more creators of the schema.",
            "items": {
                "headerTemplate": " {{#if self.familyName }}{{#if self.givenName }}<i>{{ self.familyName }}, {{ self.givenName }}</i>{{else}}<i>None</i>{{/if}}{{else}}<i>None</i>{{/if}}",
                "$ref": "/definitions/base-repo/models/agent.json",
                "watch": {
                    "familyName": "self.familyName",
                    "givenName": "self.givenName"

                }
            },
            "options": {
                "collapsed": true
            }
        },
        "dates": {
            "type": "array",
            "title": "Dates",
            "description": "One or more dates where certain events happened to the schema.",
            "items": {
                "headerTemplate": "{{ self.type }}",
                "$ref": "/definitions/base-repo/models/date.json"
            },
            "options": {
                "collapsed": true
            }
        },
        "formats": {
            "type": "array",
            "title": "Format Information",
            "description": "One or more format information entries.",
            "items": {
                "headerTemplate": "Format #{{ i1 }} {{#if self}} ({{ self }}) {{else}} (None) {{/if}}",
                "title": "Entry",
                "type": "string"
            },
            "options": {
                "collapsed": true
            }
        },
        "fundingReferences": {
            "type": "array",
            "title":"Funding Information",
            "description": "Funding information for the schema.",
            "items": {
                "$ref": "/definitions/base-repo/models/funding_reference.json"
            },
            "options": {
                "collapsed": true
            }
        },
        "identifier": {
            "title": "Persistent Identifier",
            "description": "The persistent identifier of the schema.",
            "$ref": "/definitions/base-repo/models/identifier.json",
            "options": {
                "collapsed": true
            }
        },
        "relatedIdentifiers": {
            "type": "array",
            "title":"Related Identifiers",
            "description": "One or more related identifiers for the schema.",
            "items": {
                "$ref": "/definitions/base-repo/models/related_identifier.json"
            },
            "options": {
                "collapsed": true
            }
        },
        "rights": {
            "type": "array",
            "title":"Rights Information",
            "description": "Rights information for the schema, e.g., access license.",
            "items": {
                "headerTemplate": "Right #{{ i1 }} {{#if self.schemeId}} ({{ self.schemeId }}) {{else}} (None) {{/if}}",
                "$ref": "/definitions/base-repo/models/scheme.json"
            },
            "options": {
                "collapsed": true
            }
        },
        "sizes": {
            "type": "array",
            "title": "Size Information",
            "description": "Size information for the schema.",
            "items": {
                "headerTemplate": "Size #{{ i1 }} {{#if self}} ({{ self }}) {{else}} (None) {{/if}}",
                "title": "Entry",
                "type": "string"
            },
            "options": {
                "collapsed": true
            }
        },
        "subjects": {
            "type": "array",
            "title": "Subjects",
            "description": "Subject information for the schema.",
            "items": {
                "headerTemplate": "Subject #{{ i1 }} {{#if self.value}} ({{ self.value }}) {{else}} (None) {{/if}}",
                "$ref": "/definitions/base-repo/models/subject.json"
            },
            "options": {
                "collapsed": true
            }
        }
    },
    "required": [
        "id", "titles"
    ]
}
